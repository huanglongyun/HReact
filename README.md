# mini-react
## 实现最简mini-react
### 实现最简mini-react
### 使用jsx
## 任务调度器&fiber架构
### 实现任务调度器
上节说到当dom树非常大时，渲染会出现卡顿，原因是浏览器中js是单线程，当任务很多时会阻塞页面渲染。
解决方案是将一个大任务拆分成多个小任务，分批次进行解析。

1. 在什么时候执行任务
 Window.requestIdleCallback()可以插入一个回调函数，这个回调函数在浏览器空闲时期被调用，这样就不会影响延迟事件。
回调函数会接收到一个名为 IdleDeadline 的参数，
其中的IdleDeadline.timeRemaining() 返回当前闲置周期的预估剩余毫秒数。可以判断目前是否有足够的时间来执行更多的任务。

这样在足够的时间内操作dom，当时间不够时，就跳出操作，在此使用requestIdleCallback，再下一个空闲时期继续执行。

给这个过程取名 任务调度器

2. 要怎样渲染呢
如何控制在第一空闲渲染a，下一个空闲期渲染b。

开启上帝视角，可以选择链表(知其名，不甚了解)
规则是：依次顺序
1. 孩子
2. 兄弟
3. 叔叔(父亲的兄弟)




如何控制渲染
### 实现fiber架构